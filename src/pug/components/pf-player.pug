include /elements/images

mixin pf-player({})
  .pf-player(
    data-audio="/audio/33a-tbiliso.mp3"
    data-color-wave="#96BFE2"
    data-color-progress="#4AA3EF"
    data-file-name="audio"
  )
    button.pf-player__btn-play
      +svg({
        name: "icon-player-play",
        width: 24,
        height: 24,
        classname: "icon-player-play"
      })
      +svg({
        name: "icon-player-pause",
        width: 24,
        height: 24,
        classname: "icon-player-pause"
      })
    .pf-player__time 0:00
    .pf-player__info Loading...
    .pf-player__timeline.hide
    .pf-player__volume-wrp
      .pf-player__line
        .pf-player__line-progress(style="width: 100%;")
      .pf-player__volume
        button.pf-player__btn-volume
          +svg({
            name: "icon-player-volume",
            width: 22,
            height: 22,
            classname: "icon-player-volume"
          })
          +svg({
            name: "icon-player-mute",
            width: 22,
            height: 22,
            classname: "icon-player-mute"
          })
    .pf-player__menu
      button.pf-player__btn
        +svg({ name: "icon-player-menu", width: 22, height: 22 })
      .pf-player__menu-drop
        .pf-player__menu-set.show
          button.pf-player__set-btn.pf-player__set-btn--download(onclick="document.querySelector('.pf-player__menu-drop').classList.remove('show')")
            +svg({ name: "icon-player-download", width: 22, height: 22 })
            | Download
          button.pf-player__set-btn.pf-player__set-btn--speed(onclick="document.querySelector('.pf-player__menu-set').classList.remove('show'); document.querySelector('.pf-player__menu-speed').classList.add('show')")
            +svg({ name: "icon-player-replay", width: 22, height: 22 })
            | Replay speed
        .pf-player__menu-speed
          each it in ["0,5", "0,75", "1", "1,25", "1,5"]
            button.pf-player__speed-btn(
              class=(it === "1" && "actv")
              onclick="document.querySelector('.pf-player__menu-set').classList.add('show'); document.querySelector('.pf-player__menu-speed').classList.remove('show'); document.querySelector('.pf-player__menu-drop').classList.remove('show');"
            )=it
  script.
    document.addEventListener('DOMContentLoaded', () => {
      const playerLayout = document.querySelector('.pf-player')
      const player = initPfPlayer(playerLayout)
    })

